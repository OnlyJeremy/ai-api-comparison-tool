<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APIÂØπÊØîÂ∑•ÂÖ∑</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>APIÂØπÊØîÂ∑•ÂÖ∑</h1>
            <button class="clear-all-btn" onclick="clearAllHistory()">üóëÔ∏è Ê∏ÖÈô§ÊâÄÊúâÂéÜÂè≤</button>
        </header>
        
        <div class="main-content">
            <!-- Â∑¶‰æßÊ®°Âùó -->
            <div class="api-module">
                <div class="module-header">
                    <h2>Â∑¶‰æßAPI</h2>
                    <div class="header-actions">
                        <button class="config-btn" onclick="showApiConfig('official')">‚öôÔ∏è ÈÖçÁΩÆ</button>
                        <button class="export-btn" onclick="exportHistory('official')">ÂØºÂá∫ÂéÜÂè≤</button>
                    </div>
                </div>
                
                <div class="input-section">
                    <textarea 
                        id="official-input" 
                        placeholder="ËØ∑ËæìÂÖ•ÊÇ®ÁöÑÈóÆÈ¢ò..."
                        rows="3"
                    ></textarea>
                    <button onclick="sendMessage('official')" class="send-btn">ÂèëÈÄÅ</button>
                </div>
                
                <div class="history-section">
                    <h3>ÂØπËØùÂéÜÂè≤</h3>
                    <div id="official-history" class="history-container"></div>
                </div>
            </div>
            
            <!-- Âè≥‰æßÊ®°Âùó -->
            <div class="api-module">
                <div class="module-header">
                    <h2>Âè≥‰æßAPI</h2>
                    <div class="header-actions">
                        <button class="config-btn" onclick="showApiConfig('third-party')">‚öôÔ∏è ÈÖçÁΩÆ</button>
                        <button class="export-btn" onclick="exportHistory('third-party')">ÂØºÂá∫ÂéÜÂè≤</button>
                    </div>
                </div>
                
                <div class="input-section">
                    <textarea 
                        id="third-party-input" 
                        placeholder="ËØ∑ËæìÂÖ•ÊÇ®ÁöÑÈóÆÈ¢ò..."
                        rows="3"
                    ></textarea>
                    <button onclick="sendMessage('third-party')" class="send-btn">ÂèëÈÄÅ</button>
                </div>
                
                <div class="history-section">
                    <h3>ÂØπËØùÂéÜÂè≤</h3>
                    <div id="third-party-history" class="history-container"></div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Â∑¶‰æßAPIÈÖçÁΩÆÊ®°ÊÄÅÊ°Ü -->
    <div id="official-config-modal" class="config-modal" style="display:none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Â∑¶‰æßAPIÈÖçÁΩÆ</h3>
                <button class="close-btn" onclick="closeApiConfig('official')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="config-form">
                    <div class="form-group">
                        <label>AIÊ®°Âûã</label>
                        <select id="official-ai-model" onchange="updateModelConfig('official')">
                            <option value="gemini" selected>Gemini</option>
                            <option value="openai">OpenAI GPT</option>
                            <option value="claude">Claude</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>HTTPÊñπÊ≥ï</label>
                        <select id="official-http-method">
                            <option value="POST" selected>POST</option>
                            <option value="GET">GET</option>
                            <option value="PUT">PUT</option>
                            <option value="DELETE">DELETE</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>APIÂêçÁß∞</label>
                        <input type="text" id="official-api-name" placeholder="ËØ∑ËæìÂÖ•APIÂêçÁß∞" required>
                    </div>
                    <div class="form-group">
                        <label>ËØ∑Ê±ÇURL</label>
                        <input type="text" id="official-api-url" placeholder="https://api.example.com/v1/endpoint">
                    </div>
                    <div class="form-group">
                        <label>Content-Type</label>
                        <select id="official-content-type">
                            <option value="application/json" selected>application/json</option>
                            <option value="application/x-www-form-urlencoded">application/x-www-form-urlencoded</option>
                            <option value="text/plain">text/plain</option>
                            <option value="application/xml">application/xml</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>ËØ∑Ê±ÇÂ§¥</label>
                        <div class="headers-list" id="official-headers-list">
                            <!-- Âä®ÊÄÅÁîüÊàêheaderÈ°π -->
                        </div>
                        <button type="button" class="add-header-btn" onclick="addHeaderRow('official')">+ Ê∑ªÂä†Header</button>
                        <div class="help-text">
                            <small>
                                <strong>Â∏∏ËßÅËØ∑Ê±ÇÂ§¥:</strong> Authorization, X-API-Key, Accept, User-Agent
                            </small>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>URLÂèÇÊï∞</label>
                        <div class="params-list" id="official-params-list">
                            <!-- Âä®ÊÄÅÁîüÊàêparamÈ°π -->
                        </div>
                        <button type="button" class="add-param-btn" onclick="addParamRow('official')">+ Ê∑ªÂä†ÂèÇÊï∞</button>
                        <div class="help-text">
                            <small>
                                <strong>Â∏∏ËßÅÂèÇÊï∞:</strong> key, token, api_key, version, format
                            </small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="save-btn" onclick="saveApiConfig('official')">‰øùÂ≠ò</button>
                <button class="close-btn" onclick="closeApiConfig('official')">ÂèñÊ∂à</button>
            </div>
        </div>
    </div>
    <!-- Âè≥‰æßAPIÈÖçÁΩÆÊ®°ÊÄÅÊ°Ü -->
    <div id="third-party-config-modal" class="config-modal" style="display:none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Âè≥‰æßAPIÈÖçÁΩÆ</h3>
                <button class="close-btn" onclick="closeApiConfig('third-party')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="config-form">
                    <div class="form-group">
                        <label>AIÊ®°Âûã</label>
                        <select id="third-party-ai-model" onchange="updateModelConfig('third-party')">
                            <option value="gemini" selected>Gemini</option>
                            <option value="openai">OpenAI GPT</option>
                            <option value="claude">Claude</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>HTTPÊñπÊ≥ï</label>
                        <select id="third-party-http-method">
                            <option value="POST" selected>POST</option>
                            <option value="GET">GET</option>
                            <option value="PUT">PUT</option>
                            <option value="DELETE">DELETE</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>APIÂêçÁß∞</label>
                        <input type="text" id="third-party-api-name" placeholder="ËØ∑ËæìÂÖ•APIÂêçÁß∞" required>
                    </div>
                    <div class="form-group">
                        <label>ËØ∑Ê±ÇURL</label>
                        <input type="text" id="third-party-api-url" placeholder="https://api.example.com/v1/endpoint">
                    </div>
                    <div class="form-group">
                        <label>Content-Type</label>
                        <select id="third-party-content-type">
                            <option value="application/json" selected>application/json</option>
                            <option value="application/x-www-form-urlencoded">application/x-www-form-urlencoded</option>
                            <option value="text/plain">text/plain</option>
                            <option value="application/xml">application/xml</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>ËØ∑Ê±ÇÂ§¥</label>
                        <div class="headers-list" id="third-party-headers-list">
                            <!-- Âä®ÊÄÅÁîüÊàêheaderÈ°π -->
                        </div>
                        <button type="button" class="add-header-btn" onclick="addHeaderRow('third-party')">+ Ê∑ªÂä†Header</button>
                        <div class="help-text">
                            <small>
                                <strong>Â∏∏ËßÅËØ∑Ê±ÇÂ§¥:</strong> Authorization, X-API-Key, Accept, User-Agent
                            </small>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>URLÂèÇÊï∞</label>
                        <div class="params-list" id="third-party-params-list">
                            <!-- Âä®ÊÄÅÁîüÊàêparamÈ°π -->
                        </div>
                        <button type="button" class="add-param-btn" onclick="addParamRow('third-party')">+ Ê∑ªÂä†ÂèÇÊï∞</button>
                        <div class="help-text">
                            <small>
                                <strong>Â∏∏ËßÅÂèÇÊï∞:</strong> key, token, api_key, version, format
                            </small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="save-btn" onclick="saveApiConfig('third-party')">‰øùÂ≠ò</button>
                <button class="close-btn" onclick="closeApiConfig('third-party')">ÂèñÊ∂à</button>
            </div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html> 